\new;poff 8;text off;join off;justify off;head " ";subhead " "
\sect "NonStop Java JToolkit   T2716V20   30OCT2004   Page   "1;center
SOFTWARE RELEASE DOCUMENT ADDENDUM

Product Name:       NonStop Java JToolkit

Product Number:     T2716V20

Date:               30OCT2004

PVU Number:         T2716AAC

Copyright Notice:   HP CONFIDENTIAL: NEED TO KNOW ONLY

   Copyright 2004 Hewlett-Packard Development Company, L.P.
   Protected as an unpublished work.

   The computer program listings, specifications and documentation
   herein are the property of Compaq Computer Corporation and
   successor entities such as Hewlett-Packard Development Company,
   L.P., or a third party supplier and shall not be reproduced,
   copied, disclosed, or used in whole or in part for any reason
   without the prior express written permission of Hewlett-Packard
   Development Company, L.P.

Summary:

   Communication with the context-sensitive Pathway server is now
   supported. The Timeout feature is now added for context-free 
   communication. The SIP feature is now supported.The Install 
   script is now compatible with both NonStop Server for Java 4 and 
   Version 2 of NonStop Server for Java 4. Proper error handling 
   is now incorporated to avoid memory faults and the JVM panic. 
   ddl2java now generates the error handling methods for the class 
   type IO.


Superseded PVUs:    NONE

Requisite PVUs:     T2766AAE  (See Note)

  Note: If the Jtoolkit application wants to use the 
        context-sensitive class TsmpDialog then T2766AAE is a must.

Required Hardware:  NonStop S-series server with processors that
                    provide IEEE floating point support. This
                    exclude S700 and S70000 processors.

Required Firmware:  NONE

Required Software:  NonStop Server for Java 4 or later

   The following product is required if you are using the Pathsend
   API for Java or wish to run Java as a Pathway server:

                    T8344D44 TS/MP Pathmon

   The following product is required if you are using the Pathsend
   API for Java:

                    T8345D44 TS/MP Pathsend

   The following product is required if you are using the SIP feature
   of JToolkit:
  
                    T0470G06 TCP/IP MONITOR PROCESS (NOTE)
                    T0468G06 TCP/IP MANAGER PROCESS (NOTE)
                    T0471G06 TCP/IP SOCKET PROVIDER (NOTE)
                    T0469G06 TCP/IP SRL (NOTE)
                    T1265G06 TCP/IPV6 SUBSYSTEM (NOTE)
                    T1266G06 TCP/IPV6 MANAGER PROCESS (NOTE)

NOTE: This SPR requires either a)the four T04xx PVs
      or b)the two T12xx PVs


Manuals:            JToolkit for Java 4.0

Installation Considerations:

   Minimal system impact

 1. Ensure that the product files are moved from the product CD
    to the DSV locations.

    (For instructions specific to moving files from the product 
     CD to the DSV locations on the NonStop system, see the README 
     file included on the product CD).

 2. Ensure that the software and hardware requirements for using
    this product are met.

 3. Ensure that the OSS environment is installed and running.

 4. If DSM/SCM is used, follow the instructions in Section-I.
    If DSM/SCM is not used, follow the instructions in Section-II.

 Section-I. If DSM/SCM is used:

  To dearchive the product pax files in the standard location,
  follow the instructions in step 1. To dearchive in a non-standard
  location, follow the instructions in step 2.

  1. To dearchive the product pax files in the standard location:

   a. RECEIVE the SPR from the DSV location.

   b. Check the "Manage OSS Files" option in the target
      configuration.

   c. COPY the SPR to a new revision of the software configuration
      you want to update.

   d. BUILD and APPLY the configuration revision. This copies
      the product and documentation pax files in the Guardian
      location $<DSM-VOL>.ZOSSUTL.

       where <DSM-VOL> is the volume used by DSM/SCM.

   e. Run ZPHIRNM to perform the RENAME step. This dearchives
      the product pax files in the standard location /usr/tandem.

   f. After the product pax files are successfully dearchived in
      the standard location, follow the instructions provided in
      the post-installation steps.

  2. To dearchive the product pax files in a non-standard location:

   a. RECEIVE the SPR from the DSV locations.

   b. Uncheck the "Manage OSS Files" option in the target
      configuration.

   c. COPY the SPR to a new revision of the software configuration
      you want to update.

   d. BUILD and APPLY the configuration revision. This copies the
      product and documentation pax files in the Guardian
      location $<DSM-VOL>.ZOSSUTL.

       where <DSM-VOL> is the volume used by DSM/SCM.

   e. Use PINSTALL with the '-s' option to dearchive the product 
      and documentation pax files in a non-standard location
      of OSS file system.

       Dearchive the product pax file in a non-standard
       location:

         > volume $<DSM-VOL>.ZOSSUTL

         > PINSTALL -s:/usr/tandem:<install-dir>: -rvf T2716PAX

         This dearchives the product pax file in the location
         <install-dir>/javaextv20.

         For example, to dearchive the product pax file in the
         location /h/myhome, use PINSTALL as shown:

         > PINSTALL -s:/usr/tandem:/h/myhome: -rvf T2716PAX

         This dearchives the product pax file in the location
         /h/myhome/javaextv20.

       Dearchive the product documentation in a non-standard
       location:

         > volume $<DSM-VOL>.ZOSSUTL

         > PINSTALL -s:/usr/tandem:<install-dir>: -rvf T2716DOC

         This dearchives the product documentation pax file in
         the location <install-dir>/javaextv20/docs.

         For example, to dearchive the product documentation pax
         file in the location /h/myhome, use PINSTALL as shown:

         > PINSTALL -s:/usr/tandem:/h/myhome: -rvf T2716DOC

         This dearchives the product documentation pax file
         in the location /h/myhome/javaextv20/docs.

   f. After the product pax files are successfully dearchived in
      a non-standard location, follow the instructions provided
      in the post-installation steps.

 Section-II. If DSM/SCM is not used:

  If DSM/SCM is not used, the product and documentation pax
  files reside in the DSV subvolume:

      $<DSV-VOL>.R2716AAC

  where <DSV-VOL> is the volume selected while placing the
  product files using IPSetup or manual placement.

  To dearchive the product and documentation pax files in the
  standard location, follow the instructions provided in step 1
  of this section. To dearchive the product pax files in a
  non-standard location other than /usr/tandem, follow the
  instructions provided in step 2 of this section.

  1. Use PINSTALL to dearchive the product and documentation pax
     files from the DSV subvolume to standard location:

     Dearchive the product pax file in the standard location:

       > volume $<DSV-VOL>.R2716AAC

       > PINSTALL -rvf T2716PAX

       This dearchives the product pax file in the standard
       location /usr/tandem/javaextv20.

     Dearchive the product documentation in the standard
     location:

       > volume $<DSV-VOL>.R2716AAC

       > PINSTALL -rvf T2716DOC

       This dearchives the product documentation pax file in
       the standard location /usr/tandem/javaextv20/docs.

     After the product pax files are successfully dearchived in
     the standard location, follow the instructions provided in
     the post-installation steps.

  2. Use PINSTALL with the '-s' option to dearchive the product 
     and documentation pax files in a non-standard location of 
     OSS file system.

     Dearchive the product pax file in a non-standard location:

       > volume $<DSV-VOL>.R2716AAC

       > PINSTALL -s:/usr/tandem:<install-dir>: -rvf T2716PAX

       This dearchives the product pax file in the location
       <install-dir>/javaextv20.

       For example, to dearchive the product pax file in the
       location /h/myhome, use PINSTALL as shown:

       > PINSTALL -s:/usr/tandem:/h/myhome: -rvf T2716PAX

       This dearchives the product pax file in the location
       /h/myhome/javaextv20.

     Dearchive the product documentation in a non-standard
     location:

       > volume $<DSV-VOL>.R2716AAC

       > PINSTALL -s:/usr/tandem:<install-dir>: -rvf T2716DOC

       This dearchives the product documentation pax file
       in the location <install-dir>/javaextv20/docs.

       For example, to dearchive the product documentation pax
       file in the location /h/myhome, use PINSTALL as shown:

       > PINSTALL -s:/usr/tandem:/h/myhome: -rvf T2716DOC

       This dearchives the product documentation pax file
       in the location /h/myhome/javaextv20/docs.

     After the product pax files are successfully dearchived in
     the non-standard location, follow the instructions provided
     in the post-installation steps.

Post-installation steps:

 Perform these steps only after the product files are
 successfully dearchived.

 1. Ensure that the OSS file system is up and running.

 2. At the OSS prompt, change the current working directory
    to the location where the product pax file was dearchived.

    For example,

    if the product was dearchived in the standard location:

    $ cd /usr/tandem/javaextv20

    if the product was dearchived in a non-standard location:

    $ cd <install-dir>/javaextv20

    where <install-dir> is the location at which the product was 
    dearchived.

 3. Set the JAVA_HOME and JREHOME variables:

    For standard location of Java:

    a.  NonStop Server for Java 4
         $ export JAVA_HOME=/usr/tandem/nssjava/jdk141_v10 
         $ export JREHOME=$JAVA_HOME/jre

    b.  Version 2 of NonStop Server for Java 4
         $ export JAVA_HOME=/usr/tandem/nssjava/jdk142_v20
         $ export JREHOME=$JAVA_HOME/jre

    For non-standard location of Java:

    a.  NonStop Server for Java 4
         $ export JAVA_HOME=<non-standard-loc>/nssjava/jdk141_v10
         $ export JREHOME=$JAVA_HOME/jre

    b.  Version 2 of NonStop Server for Java 4
         $ export JAVA_HOME=<non-standard-loc>/nssjava/jdk142_v20
         $ export JREHOME=$JAVA_HOME/jre

        where <non-standard-loc> is the location at which Java
        was dearchived.

    Note: The install script requires JAVA_HOME to be set
          to determine where the product needs to be
          installed.

 4. Follow the steps if Java is in a non-standard location
    otherwise, skip this step and proceed with step 5.

     Edit the install script and change the value of NATIVE_LIB_DIR.

     For Example: If NonStop Server for Java 4 is installed in a 
     non-standard location <non-standard-loc>/nssjava/jdk141_v10 and 
     you wish to copy the native library file to 
     <non-standard-loc>/java_public_lib then alter the NATIVE_LIB_DIR 
     variable as NATIVE_LIB_DIR=<non-standard-loc>

     If the Version 2 of NonStop Server for Java 4 is installed in a 
     non-standard location <non-standard-loc>/nssjava/jdk142_v20 and 
     you wish to copy the native library file to 
     <non-standard-loc>/java_public_lib_jdk142 then alter the 
     NATIVE_LIB_DIR variable as NATIVE_LIB_DIR=<non-standard-loc>


 5. Run the 'install' script, that performs the following 
    steps:


    a.  Prompts you whether to proceed with the installation.

         Type 'y' to continue installation or 'n' to abort.

    b.  Copies the libtdmext.lib to the corresponding location.
     
         For standard installation of Java, copies the libtdmext.lib 
         file to /usr/tandem/java_public_lib for NonStop Server for 
         Java 4 or to /usr/tandem/java_public_lib_jdk142 for Version 2 
         of NonStop Server for Java 4

         For non-standard installation of Java, copies the 
         libtdmext.lib file to <non-standard-loc>/java_public_lib 
         for NonStop Server for Java 4 or to 
         <non-standard-loc>/java_public_lib_jdk142 for Version 2 of 
         NonStop Server for Java 4
 
         where <non-standard-loc> is the value of NATIVE_LIB_DIR that 
         was edited in the install script in Step 4.
        

    c.  Prompts you whether to rebuild the VM.

         Type 'y' to rebuild the VM or 'n' if you plan to rebuild
         the VM later.
         
         If NATIVE_LIB_DIR was edited in Step 4 with 
         <non-standard-loc> then confirm that CUSTLIB_DIRS of the
         Java Makefile contains <non-standard-loc>/java_public_lib 
         for NonStop Server for Java 4 or 
         <non-standard-loc>/java_public_lib_jdk142 for Version 2 of 
         NonStop Server for Java 4.

           Prompts you to confirm whether the non-standard native lib 
           location is included in the CUSTLIB_DIRS of the Java 
           Makefile.

           Type 'y' to continue the rebuilding of VM or 'n' if you 
           plan to rebuild the VM later.

      NOTE: The installation is considered complete only after the 
            VM is rebuilt successfully.

    d.  Displays the following message on successful installation:

          "Install is done. The VM is rebuilt."

 6. Set the CLASSPATH variable to include the 'tdmext.jar'
    file, that contains the JToolkit packages:

    For example,

    if the product was dearchived in the standard location:

    $ export CLASSPATH=$CLASSPATH:\
                         /usr/tandem/javaextv20/lib/tdmext.jar

    if the product was dearchived in a non-standard location:

    $ export CLASSPATH=$CLASSPATH:\
                       <install-dir>/javaextv20/lib/tdmext.jar

    where <install-dir> is the location where the product
    was dearchived.

 7. Set the PATH variable to include the bin directory of
    JToolkit, that contains the JToolkit tools:

    For example,

    if the product was dearchived in the standard location:

    $ export PATH=/usr/tandem/javaextv20/bin:$PATH

    if the product was dearchived in a non-standard location:

    $ export PATH=<install-dir>/javaextv20/bin:$PATH

    where <install-dir> is the location where the product
    was dearchived.

New Features:

     [AAC]

  1. A new class TsmpDialog is provided to communicate with
     the context-sensitive Pathway server. These methods are 
     provided in this class:
		send( )
		abort( )
		getPathmonName( )
		getServerClassName( )
		getStatus( )
		getTimeout( )
		setTimeout( )
		getTransactionModel( )
		setTransactionModel( )
		reset( )
		toString( )

      As a part of this new feature, a new method createDialog
      is provided in TsmpServer class.

     (SOLN 10-030808-8620)

  2. These methods are provided in TsmpServer class to set and
     get timeout values for context-free communication:
  		getTimeout( )
		setTimeout( )

     (SOLN 10-040325-4515)

  3. SIP components are supported.SIP provides a transparent way 
     to give the NonStop fundamentals of scalability and 
     persistence to a network server written in Java.

     (SOLN 10-040512-5972)

  4. The Install script is compatible with both NonStop Server for 
     Java 4 and Version 2 of NonStop Server for Java 4.
     For non-standard location of Java native libraries can also be
     copied to the non-standard lib location.

     (SOLN 10-040812-8776)
   


Problems Corrected:

  1. [AAC]
     SYMPTOMS:  Memory fault occurs
     CONDITIONS:  Calling searchStart method without 
       startingFileName option
     LIKELIHOOD:  Certain

     (SOLN 10-040420-5227)

  2. [AAC]
     SYMPTOMS:  JVM aborts with Signal 11 at 
       TsmpServer.clientRequest() and 
       TsmpServerReply.BIN16ToJavaShort()
     CONDITIONS:  The heap is out of memory
     LIKELIHOOD:  Certain

     (SOLN 10-040505-5748)

  3. [AAC]
     SYMPTOMS:  Description for nOutType and nInType parameters are 
       missing in DataConversion html page
     LIKELIHOOD:  Certain

     (SOLN 10-040622-7210)

  4. [AAC]
     SYMPTOMS:  ddl2java fails to generate error handling methods
       allowErrors(),getNumConversionFailures(),
       getConversionFailureDetails() for the class type IO
     CONDITION:  When class type is IO
     WORKAROUNDS:  Generate an INPUT class copy and paste the error 
       handling methods from the I_class to the IO_class
     LIKELIHOOD:  Certain
  
     (SOLN 10-040917-9893)


Known Problems Remaining:  NONE
